From bcaa485b4edbb4d1283b5d3ccdd0aa1ee02f0ae7 Mon Sep 17 00:00:00 2001
From: TJ Saunders <tj@castaglia.org>
Date: Thu, 7 Nov 2019 09:58:00 -0800
Subject: [PATCH] Issue #863: Make sure we increment our index, for properly
 processing the `FSCachePolicy` directive parameters.  Oops.

---
 modules/mod_core.c | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/modules/mod_core.c b/modules/mod_core.c
index 1da6b4c80..c12425a1b 100644
--- a/modules/mod_core.c
+++ b/modules/mod_core.c
@@ -1450,7 +1450,8 @@ MODRET set_fscachepolicy(cmd_rec *cmd) {
     if (strncasecmp(cmd->argv[i], "size", 5) == 0) {
       int size;
 
-      size = atoi(cmd->argv[i++]);
+      i++;
+      size = atoi(cmd->argv[i]);
       if (size < 1) {
         CONF_ERROR(cmd, "size parameter must be greater than 1");
       }
@@ -1460,7 +1461,8 @@ MODRET set_fscachepolicy(cmd_rec *cmd) {
     } else if (strncasecmp(cmd->argv[i], "maxAge", 7) == 0) {
       int max_age;
 
-      max_age = atoi(cmd->argv[i++]);
+      i++;
+      max_age = atoi(cmd->argv[i]);
       if (max_age < 1) {
         CONF_ERROR(cmd, "maxAge parameter must be greater than 1");
       }
